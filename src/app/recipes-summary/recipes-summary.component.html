<div class="page-container">
  <!-- <div>
    Purpose: Enable individuals with personal recipe collections from various web sources to view ingredient list, recipe nutrition, recipe modification and general collection data trends in one place.
  </div> -->
  <div class="lg-container">
    <div id="input-container">
      <textarea
        id="text-links"
        placeholder="Please paste your recipe links here"
        [(ngModel)]="linksTextInput"
      >
      </textarea>
      <!-- <div id="file-container">
        <label for="file-upload">{{
          'Please upload recipes either as Exported Bookmarks (HTML) or within a CSV'
        }}</label>
        <input
          type="file"
          id="file-upload"
          name="file-upload"
          (change)="handleFileInput($event)"
        />
      </div>
    </div> -->
      <div class="button-container">
        <button
          *ngIf="anyIncomplete()"
          (click)="retryMany()"
          style="margin-right: 1vw"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            fill="white"
            width="26px"
            height="8vh"
          >
            <path d="M0 0h24v24H0z" fill="none" />
            <path
              d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"
            />
          </svg>
          <span>retry incomplete</span>
        </button>
        <button
          id="convert-button"
          (click)="convertButton()"
          [disabled]="!linksTextInput && !uploadedFiles"
        >
          convert
        </button>
      </div>
      <div class="error-container" *ngIf="noLinks">
        <div>Links were not valid. Please try again.</div>
      </div>
      <div class="error-container" *ngIf="duplicateLinks">
        <div>Some links were duplicates and were not imported.</div>
      </div>
    </div>
    <div ngbDropdown *ngIf="recipes.length">
      <button
        type="button"
        class="btn btn-outline-primary"
        id="recipeDropdownMenu"
        ngbDropdownToggle
      >
        -SELECT FROM YOUR RECIPES HERE-
      </button>
      <div ngbDropdownMenu aria-labelledby="recipeDropdownMenu">
        <button
          *ngFor="let recipe of recipes"
          (click)="openRecipeDetails(recipe)"
          [class.pointer]="recipe.original_data.name"
          ngbDropdownItem
        >
          {{ recipe.original_data.name }}
        </button>
      </div>
    </div>
    <app-recipe-details
      [recipeDetails]="selectRecipe"
      [recipeKey]="recipeKey"
      *ngIf="!detailsLoading"
    ></app-recipe-details>
  </div>
</div>
